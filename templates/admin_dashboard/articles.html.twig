{% extends 'admin_dashboard/templateAdmin.html.twig' %}

{% block title %}Hello AdminDashboardController!
{% endblock %}

{% block content %}
	<h1>Articles</h1>

	<a class="btn btn-light" href="{{ path('admin_article_new') }}">Cr√©er un nouvel article</a>
	{# <a class="btn btn-primary" id="button" href="{{ path('admin_article_delete') }}">Supprimer un ou des articles</a> #}
	<button id="button" class="btn btn-danger" onclick="actionFormCheckBox('delete', '{{ path('admin_article_delete') }}')">Supprimer un ou des articles</button>
	<form id="formCheckbox" class="article-form" method="POST">
		{% for article in articles %}
			<div class="article-group">
				<input class="checkbox-hidden" type="checkbox" name="idCheck[]" value={{ article.id }}>
				<label class="checkbox-label"></label>
				{% include '_article_small.html.twig' with {'article': article, 'forAdmin': true} %}
			</div>
		{% endfor %}
	</form>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script>
		function actionFormCheckBox(action, url) {
			$('#formCheckbox').attr('action', url);
			$('#formCheckbox').submit();
		}
	</script>
{% endblock %}

